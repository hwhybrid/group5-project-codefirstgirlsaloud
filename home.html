<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chapter One</title>
</head>
<body>
<h1>CHAPTER ONE</h1>
<h2>Where adventures in literature begin</h2>

<form action="/process" method="POST">
    <div>
        <label for="genre">Genre</label>
        <select id="genre" onchange="updateCategories()">
            <option value="0">Pick a genre...</option>
            <option value="fiction">Fiction</option>
            <option value="non-fiction">Non-Fiction</option>
        </select><br>
    </div>

    <div>
        <label for="category">Category</label>
        <select id="category" name="categories">
            <!--                Categories will be dynamically generated based on genre using JS script at bottom of html body-->
        </select><br>
    </div>

    <div>
        <input type="radio" name="book_length" value="short">Short<br>
        <input type="radio" name="book_length" value="medium">Medium<br>
        <input type="radio" name="book_length" value="long">Long<br>
    </div>

    <div class="dual-range">
        <input type="range" name="year_published_min" min="1500" max="2023" step="1">Year Published(min)<br>
        <input type="range" name="year_published_max" min="1500" max="2023" step="1">Year Published(max)<br>
    </div>

    <div>
        <select id="order_by">
            <option value="0">Order by...</option>
            <option value="relevance">Relevance</option>
            <option value="newest">Newest</option>
        </select><br>
    </div>

    <input type="submit" value="Find A Book">
</form>

<script>
        function updateCategories() {
            var genreSelect = document.getElementById("genre");
            var categorySelect = document.getElementById("category");

            var selectedGenre = genreSelect.value;

            categorySelect.innerHTML = "";

            if (selectedGenre === "fiction") {
                var categories = ["General", "Absurdist", "Action & Adventure"];
            } else if (selectedGenre === "non-fiction") {
                var categories = ["Architecture", "Art", "Biography & Autobiography"];
            }

            for (var i = 0; i < categories.length; i++) {
                var option = document.createElement("option");
                option.value = categories[i];
                option.text = categories[i];
                categorySelect.appendChild(option);
            }
        }

        // Initialize the categories based on the default genre selection
        updateCities();

</script>

</body>
</html>